{% extends 'base.html.twig' %}
{% block title %}Brightmoor Connection - Reports{% endblock %}
{# override base layout so storehouse header doesn't display #}
{% block storehouseHead %}{% endblock %}
{# override base layout so Storehouse nav doesn't display #}
{% block storehouseNav %}
{% endblock %}
{% block section %}

<div class="formStyle">

	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	<form id="datePickerForm" >
		<label for="formDatePicker1">Date1: </label><input type="text" name="formDatePicker1" id="formDatePicker1" class="dateTextLength" size="10" value="{{ date1|date('m/d/Y') }}"/>
		<label for="formDatePicker2">Date2: </label><input type="text" name="formDatePicker2" id="formDatePicker2" class="dateTextLength" size="10" value="{{ date2|date('m/d/Y') }}"/>
		<input type="submit" value="Submit" id="reportSubmit">
	</form>

	<h1>Reports</h1>
	<p>Number of Households served: {{ householdCount }}</p>
	<p>Number of Individuals served: {{ individualsCount }}</p>
	<p>Number of Females served: {{ femalesCount }}</p>
	<p>Number of Males served: {{ malesCount }}</p>
	<p>Children served in age range 0-5: {{ familyMembers05 }}</p>
	<p>Individuals served in age range 6-17: {{ familyMembers617 }}</p>
	<p>Individuals served in age range 18-64: {{ peopleServed1864 }}</p>
	<p>Individuals served ages 65+: {{ peopleServed65 }}</p>
	<p>New Households: {{ newHouseholdCount }}</p>
	<p>New Households with Children ages 0-5: {{ newHouseholdCount05 }}</p>
	{% if headOfHouseholdNullAge %}
	<p>The following heads of household were served in date range but have no age assigned:</p>
	<ul>
	{% for headOfHousehold in headOfHouseholdNullAge %}
		<li><a href="{{ path('form', {'id': headOfHousehold.id}) }}">{{ headOfHousehold.lastName }}, {{ headOfHousehold.firstName }}</a></li>
	{% endfor %}
	</ul>
	{% endif %}
 
 	{% if familyMemberNullAge %}
	<p>The following family members were served in date range but have no age assigned:</p>
	<ul>
	{% for familyMember in familyMemberNullAge %}
		<li>{{ familyMember.name }}</a></li>
	{% endfor %}
	</ul>
	{% endif %}
 
</div>
{% endblock %}


{% block javascripts %}
{{ parent() }}
<!-- date picker-->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script>
  $(function() {
    $( "#formDatePicker1" ).datepicker({
    			dateFormat: "mm/dd/yy",
    		});
  });
  </script>

  <script>
  $(function() {
    $( "#formDatePicker2" ).datepicker({
    			dateFormat: "mm/dd/yy",
    		});
  });
  </script>

{% endblock %}
